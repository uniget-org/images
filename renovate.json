{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "customManagers:dockerfileVersions"
  ],
  "automerge": true,
  "docker": {
      "pinDigests": true
  },
  "packageRules": [
    {
      "matchFileNames": [
        "alpine/**",
        "build-base/**",
        "build-essential/**"
      ],
      "matchManagers": ["dockerfile"],
      "matchUpdateTypes": ["minor", "major"],
      "enabled": false
    }
  ],
  "customManagers": [
    {
      "customType":           "regex",
      "fileMatch":          [ "(^|/|\\.)Dockerfile[^/]*$" ],
      "matchStrings":       [ "#syntax=(?<depName>.*?):(?<currentValue>.*?)\\n" ],
      "datasourceTemplate":   "docker",
      "depNameTemplate":      "docker/dockerfile"
    }
  ]
}
